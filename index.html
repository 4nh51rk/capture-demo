<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
      HTML Media Capture demo
    </title>
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/demo.css">
    <link rel="stylesheet" type="text/css" href="css/component.css">
    <style>
      img.camera { width: 32px; height: 32px; display: block; margin: auto; }
    </style>
  </head>
  <body>
    <div class="container">
      <header class="codrops-header">
        <h1>
          HTML Media Capture demo
        </h1>
        <p>
          Demo for the <strong><a href=
          "https://w3c.github.io/html-media-capture/">HTML Media
          Capture</a></strong> feature that enables capture of live media such
          as images and video from the device's camera via <code>&lt;input
          type="file"&gt;</code>.
        </p>
      </header>
      <div class="content">
        <div class="box">
          <input type="file" accept="image/*" capture="user"
          id="file-1" class="inputfile inputfile-1">
          <label for="file-1">
            <img srcset="svg/camera.svg" class="camera">
            <span>Take a selfie&hellip;</span>
          </label>
        <div class="box" id="img-container-1">
          <img id="img-placeholder-1">
        </div>
      </div>
      <script>

      let file1 = document.querySelector('#file-1');
      let imgContainer1 = document.querySelector('#img-container-1');
      let imgPlaceholder1 = imgContainer1.firstChild;

      file1.onchange = () => {
        let imgURL = URL.createObjectURL(file1.files[0]);
        let img = document.createElement('img');

        img.onload = () => {
          URL.revokeObjectURL(imgURL);
        };

        img.src = imgURL;
        img.style.width = '100%';
        img.onclick = () => { img.style.width = (!!img.style.width) ? null : '100%'; };
        imgPlaceholder1.nextElementSibling.remove();
        imgContainer1.append(img);
      };

      </script>
      <script>
      (function(e,t,n) {
        var r = e.querySelectorAll("html")[0];
        r.className = r.className.replace(/(^|\s)no-js(\s|$)/,"$1js$2");
      })(document, window, 0);
      </script>
      <script src="js/custom-file-input.js">
      </script>
    </div>
  </body>
</html>
